<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[C++] 기본 Syntax 3  - NiklasJang’s Blog</title>
<meta name="description" content="포인터와 참조자, const int &amp;num을 왜 쓰는가?">


  <meta name="author" content="Niklas Jang">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="NiklasJang's Blog">
<meta property="og:title" content="[C++] 기본 Syntax 3">
<meta property="og:url" content="http://localhost:4000/cpp/cpp-basic-syntax-3/">


  <meta property="og:description" content="포인터와 참조자, const int &amp;num을 왜 쓰는가?">







  <meta property="article:published_time" content="2019-09-06T00:00:00+09:00">






<link rel="canonical" href="http://localhost:4000/cpp/cpp-basic-syntax-3/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="NiklasJang's Blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          NiklasJang's Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/profile0.jpg" alt="Niklas Jang" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Niklas Jang</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>뜻이 있는 곳에 길이 있다.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Republic of Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:niklajang@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://github.com/niklasjang" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[C++] 기본 Syntax 3">
    <meta itemprop="description" content="포인터와 참조자, const int &amp;num을 왜 쓰는가?">
    <meta itemprop="datePublished" content="2019-09-06T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[C++] 기본 Syntax 3
</h1>
          


  <p class="page__meta">

    

    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        12 minute read
      
    

  </p>

        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-list"></i> Table of contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#c-언어-복습">C 언어 복습</a></li>
  <li><a href="#프로그램의-메모리-공간">프로그램의 메모리 공간</a></li>
  <li><a href="#bool-형식을-지원">bool 형식을 지원</a></li>
  <li><a href="#자료형-bool">자료형 bool</a></li>
  <li><a href="#reference-참조자">Reference, 참조자</a></li>
  <li><a href="#포인터의-참조자">포인터의 참조자</a></li>
  <li><a href="#참조자를-사용하는-이유--함수">참조자를 사용하는 이유 : 함수</a></li>
  <li><a href="#참조자를-이용한-call-by-reference">참조자를 이용한 Call-by-reference</a></li>
  <li><a href="#참조자를-이용한-call-by-reference의-단점과-const를-사용한-보완-">참조자를 이용한 Call-by-reference의 단점과, const를 사용한 보완-</a></li>
  <li><a href="#const를-이용한-보완">const를 이용한 보완</a></li>
  <li><a href="#reference-형-반환값">Reference 형 반환값</a></li>
  <li><a href="#잘못된-참조자-반환">잘못된 참조자 반환</a></li>
  <li><a href="#const와-참조자의-혼용">const와 참조자의 혼용</a></li>
  <li><a href="#const-상수-참조자">const 상수 참조자</a></li>
  <li><a href="#const-상수-참조자-왜-사용하는가">const 상수 참조자, 왜 사용하는가?</a></li>
  <li><a href="#malloc과-free를-대신하는-new-와-delete">malloc과 free를 대신하는 new 와 delete</a></li>
  <li><a href="#c에서-c의-표준-함수-호출하기">C++에서 C의 표준 함수 호출하기</a></li>
  <li><a href="#구조체">구조체</a></li>
  <li><a href="#class-클래스">class 클래스</a></li>
  <li><a href="#접근제어-지시자">접근제어 지시자</a></li>
  <li><a href="#c에서-파일-분할">C++에서 파일 분할</a></li>
  <li><a href="#inline-함수는-헤더파일에-넣는다">inline 함수는 헤더파일에 넣는다.</a></li>
</ul>

            </nav>
          </aside>
        
        <h2 id="c-언어-복습">C 언어 복습</h2>

<ol>
  <li>const int num = 10;                     //변수 num 상수화</li>
</ol>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">num1</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">//const 선언으로 인해 불가능!</span>
</code></pre></div></div>

<ol>
  <li>const int * ptr1 = &amp;val1;             //포인터 ptr1이 가리키는 데이터를 상수화</li>
</ol>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	
	<span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">int</span> <span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num1</span><span class="p">;</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//10</span>
	
	<span class="n">num1</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//20, num1은 변경 가능</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="c1">//20</span>

	<span class="o">*</span><span class="p">(</span><span class="o">&amp;</span><span class="n">num1</span><span class="p">)</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>                  <span class="c1">//num1은 변경 가능</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//30</span>
	<span class="c1">//*ptr1 = 40;                   //ptr1이 가리키는 데이터는 변경 불가능</span>

    <span class="kt">int</span> <span class="n">num2</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
	<span class="n">ptr1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num2</span><span class="p">;</span>                   <span class="c1">//ptr2가 가리키는 데이터 자체를 변경시키는 것은 가능하나, </span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="c1">//*ptr1 = 10000;                //ptr1이 가리키는 값을 ptr1를 사용해서 변경은 불가능</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>int * const ptr2 = &amp;val2;             //포인터 ptr2가 상수화됨</li>
</ol>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	
	<span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">*</span> <span class="k">const</span>  <span class="n">ptr1</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num1</span><span class="p">;</span>
	
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

	<span class="kt">int</span> <span class="n">num2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
	<span class="c1">//ptr1 = &amp;num2;  //불가능</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr1</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>const int * const ptr3 = &amp;val3;  //포인터 ptr3가 상수화 되었으며, ptr3를 사용해서 val3의 값을 변경할 수 없음.</li>
</ol>

<p>​</p>

<h2 id="프로그램의-메모리-공간">프로그램의 메모리 공간</h2>

<ol>
  <li>code : 코드가 저장되는 부분</li>
  <li>데이터 : 전역변수가 저장되는 영역</li>
  <li>스택 : 지역변수 및 매개변수가 저장되는 영역</li>
  <li>힙 :malloc 함수 호출에 의해 프로그램이 실행되는 과정에서 동적으로 할당이 이뤄지는 영역</li>
  <li>malloc &amp; free : malloc 함수 호출에 의해 할당된 heap 메모리 공간은 free 함수호출을 통해서 소멸하지 않으면 해제되지 않는다.</li>
</ol>

<h2 id="bool-형식을-지원">bool 형식을 지원</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span>
<span class="cp">#define TURE 1
#define FALSE 0
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	
	<span class="k">while</span> <span class="p">(</span><span class="n">TURE</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<ol>
  <li>true와 false는 각각 1과 0이 아니다. 이 둘을 출력하거나 정수의 형태로 형 변환을 할 때는 1, 0으로 변환되도록 정의가 되어있는 것이다.</li>
  <li>true와 false는 각각 1바이트 크기의 데이터일 뿐이다.</li>
</ol>

<h2 id="자료형-bool">자료형 bool</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span>
<span class="kt">bool</span> <span class="nf">isPositive</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">){</span>

	<span class="kt">bool</span> <span class="n">isBool</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="n">isBool</span> <span class="o">=</span> <span class="n">isPositive</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">isBool</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reference-참조자">Reference, 참조자</h2>

<ol>
  <li>변수란? 할당된 메모리 공간에 붙혀진 이름. 그 이름을 통해서 해당 메모리 공간에 접근이 가능하다.</li>
  <li>할당된 메모리 공간에 또 다른 이름을 붙히는 것을 reference라고 하고 &amp; 연산자를 사용한다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="mi">2018</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">&amp;</span><span class="n">num2</span> <span class="o">=</span> <span class="n">num1</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>&amp;연산자를 변수의 주소 값을 반환하는 역할을 하기도 하고</li>
  <li>새로 선언되는 변수의 이름 앞에 적으면, 이는 참조자의 선언을 뜻한다.</li>
  <li>참조자는 선언과 동시에 초기화를 해야한다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="mi">2018</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num1</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">&amp;</span><span class="n">nunm2</span><span class="o">=</span> <span class="n">num1</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>변수 num1의 주소 값을 반환해서 포인터 ptr에 저장해라.</li>
  <li>변수 num1에 대한 참조자 num2를 선언해라.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">2018</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">ptr</span> <span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//2018</span>
<span class="o">*</span><span class="n">ptr</span> <span class="o">-=</span> <span class="mi">8</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//2010</span>
<span class="kt">int</span> <span class="o">&amp;</span><span class="n">num2</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
<span class="n">num2</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span> <span class="c1">//2000</span>
</code></pre></div></div>

<ol>
  <li>C++에서 포인터와 참조자의 역할을 많은 차이가 있지는 않지만 그래도 pointer와 reference라는 이름으로 구분하자.</li>
</ol>

<h2 id="포인터의-참조자">포인터의 참조자</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span><span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">**</span><span class="n">dptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ptr</span><span class="p">;</span>

	<span class="kt">int</span> <span class="o">&amp;</span><span class="n">rNum</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">*</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Rptr</span><span class="p">)</span> <span class="o">=</span> <span class="n">ptr</span><span class="p">;</span>                 
	<span class="kt">int</span> <span class="o">**</span><span class="p">(</span><span class="o">&amp;</span><span class="n">Rdptr</span><span class="p">)</span> <span class="o">=</span> <span class="n">dptr</span><span class="p">;</span>

	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">rNum</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">Rptr</span><span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">**</span><span class="n">Rdptr</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>int <em>(&amp;Rptr) = ptr; 에서 int</em>는 ptr과 같은 int*형 type임을 의미하고, &amp;Rptr은 Rptr이라는 ptr를 가리키는 reference를 설정한다는 의미이다.</li>
</ol>

<p>​</p>

<h2 id="참조자를-사용하는-이유--함수">참조자를 사용하는 이유 : 함수</h2>

<p>우선 Call-by-value , Call-by-reference를 다시 상기해보자.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">*</span> <span class="nf">SimepleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">ptr</span><span class="p">){</span>
 <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>위 의 함수는 함수의 내용에 따라서 Call-by-value/reference 둘 다 될 수 있다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Call-by-value형태</span>
<span class="kt">int</span> <span class="o">*</span> <span class="nf">SimepleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span> <span class="n">ptr</span><span class="p">){</span>
    <span class="k">return</span> <span class="n">ptr</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//Call-by-reference 형태</span>
<span class="kt">int</span> <span class="o">*</span> <span class="nf">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">ptr</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">){</span>
        <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="o">*</span><span class="n">ptr</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">ptr</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>본래 C언어에서의 Call-by-reference는  ‘주소 값을 전달 받아서, 함수 외부에 선언된 변수에 접근하는 형태의 함수 호출’을 의미한다.</li>
  <li>즉, 주소 값이 외부 변수의 참조 도구로 사용되는 함수의 호출을 뜻한다. 주소 값이 전달되었다는 사실이 중요한 것이 아니라 주소 값이 참조의 도구로 사용되었다는 사실이 중요한 것이다. 이 내용을  주소 값을 이용한 Call-by-reference라고 하기도 하고 Call-by-address라고 하기도 한다.</li>
</ol>

<h2 id="참조자를-이용한-call-by-reference">참조자를 이용한 Call-by-reference</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">SwapByRef2</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">ref1</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">ref2</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">ref1</span><span class="p">;</span>
	<span class="n">ref1</span> <span class="o">=</span> <span class="n">ref2</span><span class="p">;</span>
	<span class="n">ref2</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>

<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">val1</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">val2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
	<span class="n">SwapByRef2</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">);</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">val1</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span> <span class="o">&lt;&lt;</span> <span class="n">val2</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<ol>
  <li>주소값을 이용한 Call-by-reference로도, 참조자를 이용한 Call-by-reference로도 Swap 함수를 구현할 수 있다.</li>
</ol>

<h2 id="참조자를-이용한-call-by-reference의-단점과-const를-사용한-보완-">참조자를 이용한 Call-by-reference의 단점과, const를 사용한 보완-</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include&lt;iostream&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">num</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="n">SimpleFunc</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>C++에서는 함수의 인자로 주소값이 전달되지 않은 경우라도 참조자를 사용해서 데이터의 값이 변할 수 있다.</li>
  <li>이것은 제 3자가 코드를 이해하기 위해서 함수의 내용에서 값이 변경되는 부분이 있는지 점검을 해봐야하는 불편함을 가져온다.</li>
</ol>

<h2 id="const를-이용한-보완">const를 이용한 보완</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">SimpleFunc</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">num</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>위와 같이 const 선언을 하면 참조자 ref를 통한 값의 변경이 없는 것을 함수의 내용을 직접적으로 보지 않아도 알 수 있다.</li>
  <li>인자로 int num을 받는 것과 const int &amp;num을 받는 것은 엄연히 다르다. 데이터를 복사해서 가져오는 것과 외부의 변수에 접근을 하지만 그  데이터의 내용을 바꾸지 않는 것은 주소값에 접근할 수 있는지의 유무 등 확연한 차이를 보인다.</li>
</ol>

<h2 id="reference-형-반환값">Reference 형 반환값</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//기본형</span>
<span class="cp">#include&lt;iostream&gt;
</span><span class="kt">int</span> <span class="nf">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">num</span><span class="o">++</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">num2</span> <span class="o">=</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>   <span class="c1">//10</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num2</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>  <span class="c1">//11</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">num2</span><span class="err">에는</span> <span class="n">num</span><span class="err">과</span> <span class="err">완전히</span> <span class="err">다른</span> <span class="err">값이</span> <span class="err">저장되어</span> <span class="err">있다</span><span class="p">.</span> 

<span class="err">```</span><span class="n">cpp</span>
<span class="c1">//참조형으로 전달받아서 참조형을 반환</span>
<span class="cp">#include&lt;iostream&gt;
</span>
<span class="kt">int</span><span class="o">&amp;</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">num</span><span class="o">++</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">&amp;</span><span class="n">num2</span> <span class="o">=</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>   <span class="c1">//11</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num2</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>   <span class="c1">//11</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>num2는 num의 참조자이다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//참조형의 초기화를 기본자료형으로 할 때</span>
<span class="cp">#include&lt;iostream&gt;
</span><span class="kt">int</span> <span class="nf">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">num</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">num</span><span class="o">++</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="kt">int</span> <span class="o">&amp;</span><span class="n">num2</span> <span class="o">=</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>  <span class="c1">//Error!</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">num2</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>참조자를 선언하고 바로 초기화를 해야하는데 초기화하는 대상이 int형 데이터이므로 에러가 발생한다.</p>

<h2 id="잘못된-참조자-반환">잘못된 참조자 반환</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span><span class="o">&amp;</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">num</span> <span class="o">+=</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">reteurn</span> <span class="n">num</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">&amp;</span><span class="n">rNum</span> <span class="o">=</span> <span class="n">SimpleFunc</span><span class="p">(</span><span class="n">val</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>SimpleFunc에서 지역변수로 선언된 num에 대한 참조자 rNum을 main에서 선언하고 있다.</li>
  <li>지역변수는 함수가 종료되면 소멸되므로 rNum이 가리키는 값이 소멸된다. 이 경우 에러도 뜨지 않고 위험한 상황이 된다.</li>
</ol>

<h2 id="const와-참조자의-혼용">const와 참조자의 혼용</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">&amp;</span><span class="n">rNum</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
<span class="n">rNum</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//Error</span>
</code></pre></div></div>

<p>상수로 선언된 num을  참조자 rNum을 사용해서 변경하려고 할 때 에러가 발생한다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">rNum</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
</code></pre></div></div>

<p>따라서 상수화된 변수에 대한 참조자 선언은 const선언을 해주어야 한다.</p>

<h2 id="const-상수-참조자">const 상수 참조자</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span><span class="o">+</span><span class="mi">30</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>20과 30은 프로그램 상에서 표현되는  숫자이다. literal 또는 literal constant라 한다.</li>
  <li>이 리터럴 값들은 임시적으로 존재하는 값으로, 다음 행으로 넘어가면 존재하지 않는 상수이다.</li>
  <li>리터럴 값들이 연산되기 위해서는 메모리에 저장이 되어야하긴 하지만 다음 행으로 넘어가면 메모리에서 소멸된다고 보자.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">ref</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>c++에서는 숫자 30이 메모리 공간에 계속 남아있어 참조할 수 있도록, const참조자로 상수를 참조할 때 임시 변수라는 것을 만든다.</li>
  <li>그리고 이 장소에 상수 30을 저장하고 참조자가 이 공간을 참조하게 만든다.</li>
</ol>

<h2 id="const-상수-참조자-왜-사용하는가">const 상수 참조자, 왜 사용하는가?</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">Adder</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">num1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">num2</span><span class="p">){</span>
    <span class="k">return</span> <span class="n">num1</span><span class="o">+</span><span class="n">num2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>참조자 num1과 num2를 사용해서 해당 데이터의 값을 변경하지 않을 것을 알리기 위해 const를 명시하였다. 그리고</li>
  <li>main 에서 Adder(3,4)와 같이 변수가 아닌 상수값을 전달해도 원하는 형태의 출력이 나오도록 하기 위해서 사용한다.</li>
  <li>Adder(3,4)를 하기 위해서 굳이 변수를 지정하지 않아도 된다.</li>
</ol>

<h2 id="malloc과-free를-대신하는-new-와-delete">malloc과 free를 대신하는 new 와 delete</h2>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">char</span><span class="o">*</span> <span class="nf">MakeStreAdr</span><span class="p">(</span><span class="kt">int</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="n">len</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">str</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="kt">char</span><span class="o">*</span> <span class="n">str</span> <span class="o">=</span> <span class="n">MakeStreAdr</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
	<span class="n">strcpy_s</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="s">"I am happy"</span><span class="p">);</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">str</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">free</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>할당 대상의 정보를 무조건 바이트 크기 단위로 전달해야 한다.</li>
  <li>반환형이 void형 포인터이기 떄문에 적절한 형 변환을 거쳐야 한다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">*</span> <span class="n">ptr1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
<span class="kt">double</span><span class="o">*</span> <span class="n">ptr2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">;</span>
<span class="kt">int</span><span class="o">*</span> <span class="n">arr1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="kt">double</span><span class="o">*</span> <span class="n">arr2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">double</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>

<span class="k">delete</span> <span class="n">ptr1</span><span class="p">;</span>
<span class="k">delete</span> <span class="n">ptr2</span><span class="p">;</span>
<span class="k">delete</span> <span class="p">[]</span><span class="n">arr1</span><span class="p">;</span>
<span class="k">delete</span> <span class="p">[]</span><span class="n">arr2</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>malloc과 free보다 더 간단하게 동적할당을 할 수 있는 new와 delete.</li>
  <li>C++에서는 new와 delete만 사용하도록 한다. malloc을 사용하면 C++에서의 생성자를 사용하지 않는 등 좀 문제가 있다.</li>
</ol>

<blockquote>
  <p>int num = 10;
int &amp;numRef = num;
int * intPtr = new int;
int &amp;ptr = *intPtr; //int &amp;numRef = num;과 비교
ptr = 20;
// int * &amp;ptr = intPtr; 잘못된 문장
std::cout« ptr « std::endl;</p>
</blockquote>

<ol>
  <li>Reference를 사용해서 참조자를 선언할 때  = 의 오른쪽에는 변수 역할을 하는 대상이 온다. 따라서 *연산을 붙힌다.</li>
  <li>intPtr만 적으면 주소값만을 의미하기 때문에, 데이터를 표현하기 위해 *를 붙히는 것이다.</li>
</ol>

<p>​</p>
<h2 id="c에서-c의-표준-함수-호출하기">C++에서 C의 표준 함수 호출하기</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;  -&gt; #include &lt;cstdio&gt;
#include &lt;string.h&gt; -&gt; #include &lt;cstring&gt;
</span></code></pre></div></div>
<p>c를 더하고 .h를 빼면 된다.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//C에서 정의된 표준 라이브러리 abs 함수</span>
<span class="kt">int</span> <span class="nf">abs</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//C++에서 정의된 abs 함수 (오버로딩)</span>
<span class="kt">long</span> <span class="nf">abs</span><span class="p">(</span><span class="kt">long</span> <span class="n">num</span><span class="p">);</span>
<span class="kt">float</span> <span class="nf">abs</span><span class="p">(</span><span class="kt">float</span> <span class="n">num</span><span class="p">);</span>
<span class="kt">double</span> <span class="nf">abs</span><span class="p">(</span><span class="kt">double</span> <span class="n">num</span><span class="p">);</span>
<span class="kt">long</span> <span class="kt">double</span> <span class="nf">abd</span><span class="p">(</span><span class="kt">long</span> <span class="kt">double</span> <span class="n">num</span><span class="p">);</span>
</code></pre></div></div>

<p>이와 같이 C에서 정의된 함수를 쓸 수 있지만 C++에서 정의된 함수와 완전히 일치하지 않을 수 있으니 C++에서 정의된 함수를 사용하도록 하자.</p>

<h2 id="구조체">구조체</h2>

<ol>
  <li>C에서는 구조체를 선언할 때 다음과 같이 작성한다.
    <ul>
      <li>struct Car basicCar;</li>
    </ul>
  </li>
  <li>struct는 이어서 선언되는 자료형이 구조체를 기반으로 정의된 자료형임을 나타내고,struct를 생략하기 위해서는 typedef를 사용해야한다.</li>
  <li>C++에서는 기본 자료형의 선언 방식이나 구조체를 기반으로 정의된 자료형의 변수 선언 방식에서 차이가 없다.</li>
  <li>즉, 별도의 typedef 선언 없이도 다음과 같이 변수를 선언할 수 있다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Car</span> <span class="n">basicCar</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define ID_LEN 20
#define MAX_SPD 200
#define FUEL_STEP 2
#define ACC_STEP 10
#define BRK_STEP 10
</span>

<span class="k">struct</span> <span class="n">Car</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="nf">ShowCarState</span><span class="p">(</span><span class="k">const</span> <span class="n">Car</span> <span class="o">&amp;</span><span class="n">car</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">gamerId</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">curSpeed</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">car</span><span class="p">.</span><span class="n">fuelGauge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">Accel</span><span class="p">(</span><span class="n">Car</span> <span class="o">&amp;</span><span class="n">car</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">fuelGauge</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">car</span><span class="p">.</span><span class="n">fuelGauge</span> <span class="o">-=</span> <span class="n">FUEL_STEP</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">car</span><span class="p">.</span><span class="n">curSpeed</span> <span class="o">+</span> <span class="n">ACC_STEP</span> <span class="o">&gt;=</span> <span class="n">MAX_SPD</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">car</span><span class="p">.</span><span class="n">curSpeed</span> <span class="o">=</span> <span class="n">MAX_SPD</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">car</span><span class="p">.</span><span class="n">curSpeed</span> <span class="o">+=</span> <span class="n">ACC_STEP</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">Car</span> <span class="n">run99</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"run99"</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span> <span class="p">};</span>
	<span class="n">Accel</span><span class="p">(</span><span class="n">run99</span><span class="p">);</span>
	<span class="n">Accel</span><span class="p">(</span><span class="n">run99</span><span class="p">);</span>
	<span class="n">ShowCarState</span><span class="p">(</span><span class="n">run99</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Accel 함수와 ShowCarState함수는 Car 구조체에 종속적이지만 전체 범위에서도 호출이 가능한 문제점이 있다. 따라서 종속적인  함수임을 더 잘 나타내기 위해서 car 구조체 안에 함수를 넣을 수 있다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//함수를 구조체에 넣은 형태</span>
<span class="cp">#include &lt;iostream&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define ID_LEN 20
#define MAX_SPD 200
#define FUEL_STEP 2
#define ACC_STEP 10
#define BRK_STEP 10
</span>

<span class="k">struct</span> <span class="n">Car</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>

	<span class="kt">void</span> <span class="n">ShowCarState</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="n">gamerId</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">curSpeed</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
		<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fuelGauge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kt">void</span> <span class="n">Accel</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">fuelGauge</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="p">{</span>
			<span class="n">fuelGauge</span> <span class="o">-=</span> <span class="n">FUEL_STEP</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">curSpeed</span> <span class="o">+</span> <span class="n">ACC_STEP</span> <span class="o">&gt;=</span> <span class="n">MAX_SPD</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">curSpeed</span> <span class="o">=</span> <span class="n">MAX_SPD</span><span class="p">;</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">curSpeed</span> <span class="o">+=</span> <span class="n">ACC_STEP</span><span class="p">;</span>
	<span class="p">}</span>

<span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">Car</span> <span class="n">run99</span> <span class="o">=</span> <span class="p">{</span> <span class="s">"run99"</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span> <span class="p">};</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">ShowCarState</span><span class="p">();</span>

<span class="p">}</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c1">//사용자 정의 상수도 구조체에 넣은 형태</span>

<span class="k">struct</span> <span class="n">Car</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
   <span class="p">...</span>
<span class="p">}</span>
 <span class="c1">//사용자 정의 상수를 namespace를 사용해서 구분한 형태</span>
<span class="k">namespace</span> <span class="n">carConstant</span><span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">Car</span><span class="p">{</span>
  <span class="p">...</span>
<span class="p">};</span>
 <span class="c1">//함수의 선언만 구조체에 남겨서 구조체의 분석을 용이하게한 형태</span>
<span class="k">struct</span> <span class="n">Car</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>
	
	<span class="kt">void</span> <span class="n">ShowCarState</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">Accel</span><span class="p">();</span>

<span class="p">};</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">ShowCarState</span><span class="p">()</span> <span class="p">{</span>
	<span class="p">...</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">Accel</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="class-클래스">class 클래스</h2>

<p>앞서 설명한 구조체에서 struct를 class로만 바꾸면 class의  선언이 된다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">Car</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>
	
	<span class="kt">void</span> <span class="n">ShowCarState</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">Accel</span><span class="p">();</span>

<span class="p">};</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">ShowCarState</span><span class="p">()</span> <span class="p">{</span>
	<span class="p">...</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">Accel</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">){</span>
    <span class="n">Car</span> <span class="n">myCar</span> <span class="o">=</span> <span class="p">{</span><span class="s">"nane"</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">};</span> <span class="c1">//Error!!</span>
   <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>struct를 class로 바꾸면 Car myCar = {“nane”,100,10}; 와 같은 형태로 구조체 변수를 선언할 수 없다.</li>
  <li>이유는 클래스 내에 선언된 함수가 아닌, 다른 영역에서 변수를 초기화 하려 했기 때문이다. 클래스는 기본적으로 별도의 선언을 하지 않으면, 클래스 내에 선언되 변수는 클래스 내에 선언된 함수에서만 접근이 가능하다. 따라서 다음과 같은 형태로 클래스 변수를 선언해야 한다.</li>
</ol>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Car</span> <span class="n">myCar</span><span class="p">;</span>
</code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">strcpy</span><span class="p">(</span><span class="n">myCar</span><span class="p">.</span><span class="n">gamerID</span><span class="p">,</span> <span class="s">"name"</span><span class="p">);</span>          <span class="c1">//Error</span>
<span class="n">myCar</span><span class="p">.</span><span class="n">fuelGuage</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>          <span class="c1">//Error</span>
<span class="n">myCar</span><span class="p">.</span><span class="n">curSpeed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>            <span class="c1">//Error</span>
</code></pre></div></div>
<ol>
  <li>위와 같은 형태의 초기화는 불가능하다.</li>
  <li>클래스 내에 선언되 변수는 클래스 내에 선언된 함수에서만 접근이 가능하기 때문이다.</li>
</ol>

<h2 id="접근제어-지시자">접근제어 지시자</h2>

<p>기억하자.</p>

<ol>
  <li>public : 어디서든 접근 가능</li>
  <li>protected  : 상속 관계에 놓여있을 때, 유도 클래스에서의 접근허용</li>
  <li>private : 클래스 내에서만 접근 허용</li>
</ol>

<blockquote>
  <p>#include <iostream>
#include <cstring>
using namespace std;
class Car {
private : 	
	enum {
		ID_LEN = 20,
		MAX_SPD = 200,
		FUEL_STEP = 2,
		ACC_STEP = 10,
		BRK_STEP = 10
	};
	char gamerId[ID_LEN];
	int fuelGauge;
	int curSpeed;
public :
	void InitMemvers(const char* ID, int fuel);
	void ShowCarState();
	void Accel();
}; 
void Car::ShowCarState() {
	cout &lt;&lt; gamerId &lt;&lt; endl;
	cout &lt;&lt; curSpeed &lt;&lt; endl;
	cout &lt;&lt; fuelGauge &lt;&lt; endl;
}
void Car::Accel() {
	if (fuelGauge &lt;= 0) {
		return;
	}
	else {
		fuelGauge -= FUEL_STEP;
	}
	if (curSpeed + ACC_STEP &gt;= MAX_SPD) {
		curSpeed = MAX_SPD;
		return;
	}
	curSpeed += ACC_STEP;
}
void Car::InitMemvers(const char * ID, int fuel) {
	strcpy_s(gamerId, ID);
	fuelGauge = fuel;
	curSpeed = 0;
}
int main(void) {
	Car run99;
	run99.InitMemvers("nam2312e", 100);
	run99.Accel();
	run99.Accel();
	run99.ShowCarState();</cstring></iostream></p>

  <p>}</p>

</blockquote>

<ol>
  <li>main에서는 public으로 선언된 InitMembers 함수에 접근이 가능하고, InitMembers 함수는 같은 class 내에 선언된 private 변수들에 접근이 가능하다. 따라서 main에서 InitMembers함수를 통해서 Car class의 변수들에 접근한다.</li>
  <li>키워드 struct를 이용해서 정의한 구조체에 선언된 변수와 함수에 별도의 접근제어 지시자를 선언하지 않으면, 모든 변수와 함수는 public으로 선언된다.</li>
  <li>키워드 class를 이용해서 정의한 클래스에 선언된 변수와 함수에 별도의 접근제어 지시자를 선언하지 않으면, 모든 변수와 함수는 private로 선언된다.</li>
  <li>앞으로는 class로 정의된 변수들을 객체라고 부른다.</li>
  <li>class 객체 안에 선언된 변수들을 맴버 변수라고 하고, 함수들을 맴버 함수들이라고 한다.</li>
</ol>

<h2 id="c에서-파일-분할">C++에서 파일 분할</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Car.h에 작성한 class의 선언부</span>
<span class="k">namespace</span> <span class="n">CAR_CONSTANT</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Car</span> <span class="p">{</span>
<span class="k">private</span> <span class="o">:</span> 	
	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>
<span class="k">public</span> <span class="o">:</span>
	<span class="kt">void</span> <span class="n">InitMemvers</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ID</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fuel</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">ShowCarState</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">Accel</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div></div>

<p>class car의 정의부에서 작성되는 내용에 대한 컴파일 에러의 기준이 되는 선언부</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Car.cpp에 작성한 class car의 정의부</span>
<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">ShowCarState</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">gamerId</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">curSpeed</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fuelGauge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">Accel</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">fuelGauge</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">fuelGauge</span> <span class="o">-=</span> <span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">FUEL_STEP</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">curSpeed</span> <span class="o">+</span> <span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">ACC_STEP</span> <span class="o">&gt;=</span> <span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">MAX_SPD</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">curSpeed</span> <span class="o">=</span> <span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">MAX_SPD</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">curSpeed</span> <span class="o">+=</span> <span class="n">CAR_CONSTANT</span> <span class="o">::</span><span class="n">ACC_STEP</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">InitMemvers</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">ID</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fuel</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">strcpy_s</span><span class="p">(</span><span class="n">gamerId</span><span class="p">,</span> <span class="n">ID</span><span class="p">);</span>
	<span class="n">fuelGauge</span> <span class="o">=</span> <span class="n">fuel</span><span class="p">;</span>
	<span class="n">curSpeed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">Car</span> <span class="n">run99</span><span class="p">;</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">InitMemvers</span><span class="p">(</span><span class="s">"nam2312e"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">ShowCarState</span><span class="p">();</span>

<span class="p">}</span>
</code></pre></div></div>
<ol>
  <li>클래스의 정의에 해당하는 위 함수의 정의는 다른 문장의 컴파일에 필요한 정보를 가지고 있지 않다. 이 함수의 정의들은 컴파일 된 이후에, 링커에 의해 하나의 실행파일로 묶이기만 하면 된다.</li>
  <li>선언부와 정의부의 차이를 다시 한 번 확인하자.</li>
</ol>

<h2 id="inline-함수는-헤더파일에-넣는다">inline 함수는 헤더파일에 넣는다.</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">//Car.h</span>
<span class="cp">#ifndef __car_h__
#define __car_h__
</span><span class="k">namespace</span> <span class="n">CAR_CONSTANT</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="p">{</span>
		<span class="n">ID_LEN</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
		<span class="n">MAX_SPD</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
		<span class="n">FUEL_STEP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="n">ACC_STEP</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
		<span class="n">BRK_STEP</span> <span class="o">=</span> <span class="mi">10</span>
	<span class="p">};</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Car</span> <span class="p">{</span>
<span class="nl">private:</span>

	<span class="kt">char</span> <span class="n">gamerId</span><span class="p">[</span><span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">ID_LEN</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">fuelGauge</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">curSpeed</span><span class="p">;</span>
<span class="nl">public:</span>
	<span class="kt">void</span> <span class="n">InitMemvers</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">ID</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fuel</span><span class="p">);</span>
	<span class="kt">void</span> <span class="n">ShowCarState</span><span class="p">();</span>
	<span class="kt">void</span> <span class="n">Accel</span><span class="p">();</span>


<span class="p">};</span>

<span class="kr">inline</span> <span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">Accel</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">fuelGauge</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">fuelGauge</span> <span class="o">-=</span> <span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">FUEL_STEP</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">curSpeed</span> <span class="o">+</span> <span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">ACC_STEP</span> <span class="o">&gt;=</span> <span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">MAX_SPD</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">curSpeed</span> <span class="o">=</span> <span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">MAX_SPD</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">curSpeed</span> <span class="o">+=</span> <span class="n">CAR_CONSTANT</span><span class="o">::</span><span class="n">ACC_STEP</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif
</span> <span class="c1">//Car.cpp</span>
<span class="cp">#include &lt;iostream&gt;
#include &lt;cstring&gt;
</span>
<span class="cp">#include "car.h"
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">ShowCarState</span><span class="p">()</span> <span class="p">{</span>

	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">gamerId</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">curSpeed</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fuelGauge</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">Car</span><span class="o">::</span><span class="n">InitMemvers</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span> <span class="n">ID</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fuel</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">strcpy_s</span><span class="p">(</span><span class="n">gamerId</span><span class="p">,</span> <span class="n">ID</span><span class="p">);</span>
	<span class="n">fuelGauge</span> <span class="o">=</span> <span class="n">fuel</span><span class="p">;</span>
	<span class="n">curSpeed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
 <span class="c1">//main.cpp</span>
<span class="cp">#include "Car.h"
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">Car</span> <span class="n">run99</span><span class="p">;</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">InitMemvers</span><span class="p">(</span><span class="s">"nam2312e"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">Accel</span><span class="p">();</span>
	<span class="n">run99</span><span class="p">.</span><span class="n">ShowCarState</span><span class="p">();</span>

<span class="p">}</span>

</code></pre></div></div>

<ol>
  <li>위와 같이 inline 함수를 cpp파일에 넣으면  main.cpp에서 에러가 난다.</li>
  <li>컴파일러는 파일 단위로 컴파일을 한다.</li>
  <li>$#include 문은 해당 파일의 내용을 그 위치에 복사하는 역할을 한다$</li>
  <li>inline 함수는 해당 함수가 호출된 곳에서 함수의 몸체로 대체되어야하는데  car.cpp에서 inline으로 만들어 버리면 main.cpp에서 inline 함수를 찾을 수 없다.</li>
  <li>따라서 inline 함수는 header 파일에 넣어야 한다.</li>
</ol>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cpp" class="page__taxonomy-item" rel="tag">cpp</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#cpp" class="page__taxonomy-item" rel="tag">CPP</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2019-09-06T00:00:00+09:00">September 6, 2019</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=%5BC%2B%2B%5D+%EA%B8%B0%EB%B3%B8+Syntax+3+%20http%3A%2F%2Flocalhost%3A4000%2Fcpp%2Fcpp-basic-syntax-3%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fcpp%2Fcpp-basic-syntax-3%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fcpp%2Fcpp-basic-syntax-3%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/cpp/cpp-basic-syntax-2/" class="pagination--pager" title="[C++] 기본 Syntax 2
">Previous</a>
    
    
      <a href="/cpp/cpp-basic-syntax-4/" class="pagination--pager" title="[C++] 기본 Syntax 4
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ps/java-ps-warming-up/" rel="permalink">[PS][Java] java PS 몸풀기
</a>
      
    </h2>
    


  <p class="page__meta">

    

    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        2 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">BOJ 1002 터렛
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/eip/EIP-Subject-5-2/" rel="permalink">[자격증][정처기] 5과목 정보시스템 구축 관리 - 2
</a>
      
    </h2>
    


  <p class="page__meta">

    

    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        15 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">2장 IT 프로젝트 정보시스템 구축
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/eip/EIP-Subject-5-1/" rel="permalink">[자격증][정처기] 5과목 정보시스템 구축 관리 - 1
</a>
      
    </h2>
    


  <p class="page__meta">

    

    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        8 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">1장 소프트웨어 개발 방법론 활용
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/eip/EIP-Subject-3-2/" rel="permalink">[자격증][정처기] 3과목 데이터베이스 구축 - 2
</a>
      
    </h2>
    


  <p class="page__meta">

    

    

    
      
      

      <i class="far fa-clock" aria-hidden="true"></i>
      
        18 minute read
      
    

  </p>

    <p class="archive__item-excerpt" itemprop="description">2장 물리 데이터베이스 설계
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/niklasjang" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 NiklasJang's Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
